---
apiVersion: helm.fluxcd.io/v1
kind: HelmRelease
metadata:
  name: ingress-monitor-controller
  namespace: devops
  annotations:
    flux.weave.works/automated: "false"
spec:
  releaseName: ingress-monior-controller
  chart:
    repository: https://stakater.github.io/stakater-charts/
    name: ingressmonitorcontroller
    version: 1.0.98
  values:
    kubernetes:
      host: https://kubernetes.default

    ingressMonitorController:
      tolerations: {}
      watchNamespace: "devops,stateful"
      mount: "secret"
      existingSecret: "ingress-monitor-controller-secret"
      useFullName: false
      logLevel: info
      logFormat: text
      matchLabels:
        group: com.stakater.platform
        provider: stakater
      deployment:
        labels:
          version: "v1.0.98"
        annotations:
          configmap.reloader.stakater.com/reload: ingressmonitorcontroller
      config:
        labels:
          version: "v1.0.98"
      rbac:
        create: true
      # Service account config for the agent pods
      serviceAccount:
        # Specifies whether a ServiceAccount should be created
        create: true
        labels:
          version: "v1.0.98"
        # The name of the ServiceAccount to use.
        # If not set and create is true, a name is generated using the fullname template
        name: ingressmonitorcontroller
      image:
        name: dieunb/ingressmonitorcontroller
        tag: "dev2"
        pullPolicy: IfNotPresent
      configFilePath: /etc/IngressMonitorController/config.yaml
      data: {}
